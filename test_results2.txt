Build started 21/12/2025 10:59:52 SA.
     1>Project "C:\Data\Libs\Mediator\Mediator.sln" on node 1 (VSTest target(s)).
     1>ValidateSolutionConfiguration:
         Building solution configuration "Debug|Any CPU".
Test run for C:\Data\Libs\Mediator\tests\Mediator.Tests\bin\Debug\net8.0\Mediator.Tests.dll (.NETCoreApp,Version=v8.0)
VSTest version 18.0.1 (x64)

Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.5.4.1+b9eacec401 (64-bit .NET 8.0.22)
[xUnit.net 00:00:00.45]   Discovering: Mediator.Tests
[xUnit.net 00:00:00.67]   Discovered:  Mediator.Tests
[xUnit.net 00:00:00.68]   Starting:    Mediator.Tests
  Passed Mediator.Tests.UnitTests.Unit_Value_IsSingleton [11 ms]
  Passed Mediator.Tests.ValidationTests.ValidationException_ContainsErrors [40 ms]
  Passed Mediator.Tests.UnitTests.Unit_ToString_ReturnsEmptyTuple [5 ms]
  Passed Mediator.Tests.UnitTests.Unit_Task_ReturnsUnitValue [1 ms]
  Passed Mediator.Tests.UnitTests.Unit_EqualsObject_FalseForNonUnit [1 ms]
  Passed Mediator.Tests.UnitTests.Unit_Task_ReturnsCachedTask [1 ms]
  Passed Mediator.Tests.UnitTests.Unit_EqualsObject_TrueForUnit [< 1 ms]
  Passed Mediator.Tests.UnitTests.Unit_GetHashCode_AlwaysZero [13 ms]
  Passed Mediator.Tests.UnitTests.Unit_Equals_AlwaysTrue [1 ms]
  Passed Mediator.Tests.UnitTests.Unit_CompareTo_AlwaysZero [< 1 ms]
  Passed Mediator.Tests.UnitTests.Unit_ComparisonOperators_WorkCorrectly [< 1 ms]
  Passed Mediator.Tests.UnitTests.Unit_IsReadonlyStruct [< 1 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_MultipleAssemblies_RegistersFromAll [52 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_WithFluentConfiguration_Works [21 ms]
  Passed Mediator.Tests.PublishTests.Publish_MultipleNotifications_AllHandled [115 ms]
  Passed Mediator.Tests.PipelineBehaviorTests.Behavior_ExecutesBeforeAndAfterHandler [107 ms]
  Passed Mediator.Tests.PublishTests.Publish_NotifiesAllHandlers [2 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_RegistersBehaviors [7 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_ISenderAndIPublisher_AreSameInstance [1 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_WithConfiguration_AppliesLifetime [3 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_RegistersISender [< 1 ms]
  Passed Mediator.Tests.PipelineBehaviorTests.Behavior_WithNoBehaviors_HandlerStillExecutes [2 ms]
  Passed Mediator.Tests.PipelineBehaviorTests.Behavior_PassesRequestToHandler [2 ms]
  Passed Mediator.Tests.DependencyInjectionTests.MediatorServiceConfiguration_DefaultValues_AreCorrect [3 ms]
  Passed Mediator.Tests.ProcessorTests.NoProcessors_HandlerStillExecutes [120 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_RegistersRequestHandlers [2 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_RegistersNotificationHandlers [1 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_RegistersIMediator [< 1 ms]
  Passed Mediator.Tests.DependencyInjectionTests.AddMediator_RegistersIPublisher [< 1 ms]
  Passed Mediator.Tests.ValidationTests.ValidationBehavior_WithValidRequest_PassesThrough [81 ms]
  Passed Mediator.Tests.PipelineBehaviorTests.MultipleBehaviors_ExecuteInCorrectOrder [13 ms]
  Passed Mediator.Tests.ValidationTests.ValidationResult_Failure_IsNotValid [7 ms]
  Passed Mediator.Tests.PipelineBehaviorTests.Behavior_CanShortCircuitPipeline [4 ms]
  Passed Mediator.Tests.SendTests.Send_ConcurrentRequests_AllHandledCorrectly [162 ms]
  Passed Mediator.Tests.SendTests.Send_WithDifferentMessages_ReturnsDifferentResponses [2 ms]
  Passed Mediator.Tests.PublishTests.Publish_HandlersReceiveCorrectNotification [64 ms]
  Passed Mediator.Tests.ValidationTests.ValidationBehavior_WithInvalidRequest_ThrowsValidationException [39 ms]
  Passed Mediator.Tests.PublishTests.Publish_WithNullNotification_ThrowsArgumentNullException [5 ms]
  Passed Mediator.Tests.ValidationTests.ValidationBehavior_WithNoValidators_PassesThrough [3 ms]
  Passed Mediator.Tests.PublishTests.Publish_WithCancellationToken_PassesToHandlers [1 ms]
  Passed Mediator.Tests.PublishTests.Publish_WithSingleHandler_WorksCorrectly [2 ms]
  Passed Mediator.Tests.ValidationTests.ValidationBehavior_WithMultipleErrors_ReturnsAllErrors [7 ms]
  Passed Mediator.Tests.PublishTests.Publish_ConcurrentNotifications_AllHandled [5 ms]
  Passed Mediator.Tests.PublishTests.Publish_ObjectOverload_WorksCorrectly [3 ms]
  Passed Mediator.Tests.ValidationTests.ValidationBehavior_WithMultipleValidators_RunsAll [8 ms]
  Passed Mediator.Tests.SendTests.Send_WithFailingHandler_ThrowsException [43 ms]
  Passed Mediator.Tests.SendTests.Send_WithCancellationToken_PassesTokenToHandler [2 ms]
  Passed Mediator.Tests.ValidationTests.ValidationBehavior_WithAlwaysFailingValidator_AlwaysFails [7 ms]
  Passed Mediator.Tests.ValidationTests.ValidationResult_Success_IsValid [3 ms]
  Passed Mediator.Tests.SendTests.Send_WithVoidRequest_ReturnsUnit [20 ms]
  Passed Mediator.Tests.SendTests.Send_ObjectOverload_ReturnsCorrectResponse [6 ms]
  Passed Mediator.Tests.SendTests.Send_MultipleRequests_AllHandledCorrectly [4 ms]
[xUnit.net 00:00:01.37]     Mediator.Tests.ProcessorTests.PostProcessor_ExecutesAfterHandler [FAIL]
[xUnit.net 00:00:01.38]       Expected PingPostProcessor.ExecutionCount to be 1, but found 2.
[xUnit.net 00:00:01.38]       Stack Trace:
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
[xUnit.net 00:00:01.38]            at FluentAssertions.Numeric.NumericAssertions`2.Be(T expected, String because, Object[] becauseArgs)
[xUnit.net 00:00:01.38]         C:\Data\Libs\Mediator\tests\Mediator.Tests\ProcessorTests.cs(87,0): at Mediator.Tests.ProcessorTests.PostProcessor_ExecutesAfterHandler()
[xUnit.net 00:00:01.38]         --- End of stack trace from previous location ---
[xUnit.net 00:00:01.38]     Mediator.Tests.ProcessorTests.MultiplePreProcessors_AllExecute [FAIL]
[xUnit.net 00:00:01.38]       Expected PingPreProcessor.ExecutionCount to be 1, but found 2.
[xUnit.net 00:00:01.38]       Stack Trace:
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
[xUnit.net 00:00:01.38]            at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
[xUnit.net 00:00:01.39]            at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
[xUnit.net 00:00:01.39]            at FluentAssertions.Numeric.NumericAssertions`2.Be(T expected, String because, Object[] becauseArgs)
[xUnit.net 00:00:01.39]         C:\Data\Libs\Mediator\tests\Mediator.Tests\ProcessorTests.cs(148,0): at Mediator.Tests.ProcessorTests.MultiplePreProcessors_AllExecute()
[xUnit.net 00:00:01.39]         --- End of stack trace from previous location ---
[xUnit.net 00:00:01.39]     Mediator.Tests.ProcessorTests.PreProcessor_ExecutesBeforeHandler [FAIL]
[xUnit.net 00:00:01.39]       Expected PingPreProcessor.ExecutionCount to be 1, but found 2.
[xUnit.net 00:00:01.39]       Stack Trace:
[xUnit.net 00:00:01.39]            at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
[xUnit.net 00:00:01.39]            at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
[xUnit.net 00:00:01.39]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:00:01.39]            at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
[xUnit.net 00:00:01.39]            at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
[xUnit.net 00:00:01.39]            at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
[xUnit.net 00:00:01.39]            at FluentAssertions.Numeric.NumericAssertions`2.Be(T expected, String because, Object[] becauseArgs)
[xUnit.net 00:00:01.39]         C:\Data\Libs\Mediator\tests\Mediator.Tests\ProcessorTests.cs(63,0): at Mediator.Tests.ProcessorTests.PreProcessor_ExecutesBeforeHandler()
[xUnit.net 00:00:01.39]         --- End of stack trace from previous location ---
[xUnit.net 00:00:01.42]   Finished:    Mediator.Tests
  Passed Mediator.Tests.SendTests.Send_WithNullRequest_ThrowsArgumentNullException [5 ms]
  Passed Mediator.Tests.SendTests.Send_WithValidRequest_ReturnsResponse [2 ms]
  Failed Mediator.Tests.ProcessorTests.PostProcessor_ExecutesAfterHandler [332 ms]
  Error Message:
   Expected PingPostProcessor.ExecutionCount to be 1, but found 2.
  Stack Trace:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Numeric.NumericAssertions`2.Be(T expected, String because, Object[] becauseArgs)
   at Mediator.Tests.ProcessorTests.PostProcessor_ExecutesAfterHandler() in C:\Data\Libs\Mediator\tests\Mediator.Tests\ProcessorTests.cs:line 87
--- End of stack trace from previous location ---
  Failed Mediator.Tests.ProcessorTests.MultiplePreProcessors_AllExecute [9 ms]
  Error Message:
   Expected PingPreProcessor.ExecutionCount to be 1, but found 2.
  Stack Trace:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Numeric.NumericAssertions`2.Be(T expected, String because, Object[] becauseArgs)
   at Mediator.Tests.ProcessorTests.MultiplePreProcessors_AllExecute() in C:\Data\Libs\Mediator\tests\Mediator.Tests\ProcessorTests.cs:line 148
--- End of stack trace from previous location ---
  Failed Mediator.Tests.ProcessorTests.PreProcessor_ExecutesBeforeHandler [6 ms]
  Error Message:
   Expected PingPreProcessor.ExecutionCount to be 1, but found 2.
  Stack Trace:
     at FluentAssertions.Execution.XUnit2TestFramework.Throw(String message)
   at FluentAssertions.Execution.TestFrameworkProvider.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(Func`1 failReasonFunc)
   at FluentAssertions.Execution.AssertionScope.FailWith(String message, Object[] args)
   at FluentAssertions.Numeric.NumericAssertions`2.Be(T expected, String because, Object[] becauseArgs)
   at Mediator.Tests.ProcessorTests.PreProcessor_ExecutesBeforeHandler() in C:\Data\Libs\Mediator\tests\Mediator.Tests\ProcessorTests.cs:line 63
--- End of stack trace from previous location ---
  Passed Mediator.Tests.ProcessorTests.PreAndPostProcessors_ExecuteInCorrectOrder [7 ms]

Test Run Failed.
Total tests: 58
     Passed: 55
     Failed: 3
 Total time: 4,0265 Seconds
     1>Project "C:\Data\Libs\Mediator\Mediator.sln" (1) is building "C:\Data\Libs\Mediator\tests\Mediator.Tests\Mediator.Tests.csproj" (4) on node 3 (VSTest target(s)).
     4>_VSTestConsole:
         MSB4181: The "VSTestTask" task returned false but did not log an error.
     4>Done Building Project "C:\Data\Libs\Mediator\tests\Mediator.Tests\Mediator.Tests.csproj" (VSTest target(s)) -- FAILED.
     1>Done Building Project "C:\Data\Libs\Mediator\Mediator.sln" (VSTest target(s)) -- FAILED.

Build FAILED.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:12.56
